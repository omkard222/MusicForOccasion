$('#modal-window').html("<%= escape_javascript(render 'profiles/facebook_one') %>");

  //var valuesToSubmit = $('form.profile').serialize();
  //var uu = $('form.profile').attr('action');
  
  var file_data = $("#file").prop("files")[0];   // Getting the properties of file from file field
  var profile_id = $("#profile_id").val();
  var form_data = new FormData();                  // Creating object of FormData class
  if ($("#file").prop("files").length > 0) form_data.append("profile[profile_picture]", file_data)
  if ($("#profile_username").length > 0) form_data.append("profile[username]", $("#profile_username").val());
  if ($("#profile_location").length > 0) form_data.append("profile[location]", $("#profile_location").val());
  if ($("#profile_biography").length > 0) form_data.append("profile[biography]", $("#profile_biography").val());
  if ($("#profile_bank_account_attributes_bank_name").length > 0) form_data.append("profile[bank_account_attributes][bank_name]", $("#profile_bank_account_attributes_bank_name").val());
  if ($("#profile_bank_account_attributes_name").length > 0) form_data.append("profile[bank_account_attributes][name]", $("#profile_bank_account_attributes_name").val());
  if ($("#profile_bank_account_attributes_acc_number").length > 0) form_data.append("profile[bank_account_attributes][acc_number]", $("#profile_bank_account_attributes_acc_number").val());
  if ($("#profile_bank_account_attributes_id").length > 0) form_data.append("profile[bank_account_attributes][id]", $("#profile_bank_account_attributes_id").val());
  form_data.append("id", profile_id);
  
  if ($("#profile_stage_name").length > 0) form_data.append("profile[stage_name]", $("#profile_stage_name").val());
  if ($('[name="profile[category]"]:checked').length > 0) form_data.append("profile[category]", $('[name="profile[category]"]:checked').val());
  if ($("#profile_genre_ids").length > 0) form_data.append("profile[genre_ids][]", $('#profile_genre_ids').val());

  if ( $("#profile_site_logo") .length > 0 ) var site_logo = $("#profile_site_logo").prop("files")[0];
  if ($("#profile_site_logo") .length > 0  && $("#profile_site_logo").prop("files").length > 0) form_data.append("profile[site_logo]", site_logo)
  if ($("#profile_site_url").length > 0) form_data.append("profile[site_url]", $('#profile_site_url').val());
  //if ( $("#profile_tech_rider") .length > 0 ) var tech_rider = $("#profile_tech_rider").prop("files")[0];
  //if ($("#profile_tech_rider") .length > 0  && $("#profile_tech_rider").prop("files").length > 0) form_data.append("profile[tech_rider]", tech_rider)
  if ($("#profile_youtube_url").length > 0) form_data.append("profile[youtube_url]", $('#profile_youtube_url').val());
  if ($("#profile_soundcloud_url").length > 0) form_data.append("profile[soundcloud_url]", $('#profile_soundcloud_url').val());
  
  $.ajax({
      type: "PUT",
      url: "/profiles/"+ profile_id , //$('form.profile').attr('action')
      cache: false,
      contentType: false,
      processData: false,
      data: form_data,
      dataType: "script" // you want a difference between normal and ajax-calls, and json is standard
    }).success(function(json){
      console.log("success", json);
    });
$('#modal-window').modal('show');